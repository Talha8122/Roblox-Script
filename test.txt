local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")

-- CoreGui erişimi yoksa PlayerGui'ya ekle
local parentGui = CoreGui
if not parentGui or not parentGui:IsA("GuiBase") then
    parentGui = player:WaitForChild("PlayerGui")
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "InjectInfoDisplay"
screenGui.ResetOnSpawn = false
screenGui.Parent = parentGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 400, 0, 50)
frame.Position = UDim2.new(0.5, -200, 0.1, 0)
frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
frame.BorderSizePixel = 0
frame.Parent = screenGui
Instance.new("UICorner", frame)

local label = Instance.new("TextLabel")
label.Size = UDim2.new(1, -20, 1, 0)
label.Position = UDim2.new(0, 10, 0, 0)
label.BackgroundTransparency = 1
label.TextColor3 = Color3.fromRGB(255, 255, 255)
label.Font = Enum.Font.GothamBold
label.TextSize = 20
label.TextXAlignment = Enum.TextXAlignment.Left
label.Text = "Kullanıcı - Event - Veri"
label.Parent = frame

local function showInfo(playerName, eventName, data)
    label.Text = string.format("%s - %s - %s", playerName, eventName, tostring(data))
end

-- Event yolunu bulma fonksiyonu
local function findRemoteEvent(path)
    local current = ReplicatedStorage
    for segment in string.gmatch(path, "[^%.]+") do
        current = current and current:FindFirstChild(segment)
        if not current then
            return nil
        end
    end
    if current and current:IsA("RemoteEvent") then
        return current
    end
    return nil
end

local targetPlayerName = "hhhh148114"
local eventPath = "GameEvents.Misk.BanReceived"
local dataToSend = "30 sn ban"

-- Kullanıcıyı bul
local targetPlayer = Players:FindFirstChild(targetPlayerName)

if targetPlayer then
    local remoteEvent = findRemoteEvent(eventPath)
    if remoteEvent then
        -- Eventi tetikle
        remoteEvent:FireClient(targetPlayer, dataToSend)
        -- GUI'de göster
        showInfo(targetPlayerName, eventPath, dataToSend)
    else
        showInfo("Hata", "Event bulunamadı", eventPath)
    end
else
    showInfo("Hata", "Kullanıcı bulunamadı", targetPlayerName)
end
